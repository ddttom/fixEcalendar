{
  "permissions": {
    "allow": [
      "Bash(cat:*)",
      "Bash(npm install:*)",
      "Bash(npm run build:*)",
      "Bash(npm run dev:*)",
      "Bash(npx ts-node:*)",
      "Bash(node -e:*)",
      "Bash(xxd:*)",
      "Bash(chmod:*)",
      "Bash(node dist/index-with-db.js:*)",
      "Bash(sqlite3:*)",
      "Bash(tee:*)",
      "Bash(paste:*)",
      "Bash(awk:*)",
      "Bash(python3:*)",
      "Bash(git -C /Users/tomcranstoun/Documents/GitHub/fixEcalendar log --oneline -10)",
      "Bash(git -C /Users/tomcranstoun/Documents/GitHub/fixEcalendar status)",
      "Bash(git -C /Users/tomcranstoun/Documents/GitHub/fixEcalendar remote -v)",
      "Bash(tree:*)",
      "Bash(find:*)",
      "Bash(ls:*)",
      "Bash(wc:*)",
      "Bash(git rm:*)",
      "Bash(npm run lint)",
      "Bash(npm run format:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(test:*)",
      "Bash(ln:*)",
      "Bash(npm test:*)",
      "Bash(npm ci:*)",
      "Bash(rm:*)",
      "Bash(git -C /Users/tomcranstoun/Documents/GitHub/fixEcalendar diff --cached)",
      "Bash(git -C /Users/tomcranstoun/Documents/GitHub/fixEcalendar diff)",
      "Bash(git -C /Users/tomcranstoun/Documents/GitHub/fixEcalendar add .claude/commands/ .claude/settings.local.json README.md)",
      "Bash(git -C /Users/tomcranstoun/Documents/GitHub/fixEcalendar commit -m \"$(cat <<''EOF''\nfeat: add Claude Code slash commands for build workflows\n\nAdded 6 convenient slash commands for common development tasks:\n- /build-full: Complete pre-commit cycle (format â†’ lint â†’ test â†’ build)\n- /build-quick: Fast verification (lint â†’ build)\n- /build-ci: Simulate CI pipeline locally\n- /build-test: Build and test workflow\n- /build-release: Pre-release verification with clean build\n- /add-new: Add PST file to database with deduplication\n\nAll commands stop immediately on first failure and provide clear output.\n\nUpdated permissions in settings.local.json to allow npm ci and rm commands.\nDocumented commands in README.md Development section.\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git -C /Users/tomcranstoun/Documents/GitHub/fixEcalendar push)",
      "Bash(git -C /Users/tomcranstoun/Documents/GitHub/fixEcalendar add .claude/settings.local.json package-lock.json)",
      "Bash(git -C /Users/tomcranstoun/Documents/GitHub/fixEcalendar commit -m \"$(cat <<''EOF''\nchore: update permissions and Node.js engine requirement\n\n- Added git workflow permissions to settings.local.json\n- Updated Node.js engine requirement to >=18.18.0 in package-lock.json\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(grep:*)",
      "Bash(printf:*)",
      "Bash(echo:*)",
      "Bash(git -C /Users/tomcranstoun/Documents/GitHub/fixEcalendar log --oneline -5)",
      "Bash(git -C /Users/tomcranstoun/Documents/GitHub/fixEcalendar add .claude/settings.local.json CLAUDE.md README.md export-to-ical.ts src/parser/calendar-extractor.ts RFC5545-COMPLIANCE-REPORT.md)",
      "Bash(git -C /Users/tomcranstoun/Documents/GitHub/fixEcalendar commit -m \"$(cat <<''EOF''\nfeat: RFC 5545 recurring event compliance for Google Calendar\n\nThis commit resolves two critical RFC 5545 compliance issues that prevented\nrecurring events from importing into Google Calendar:\n\n**Critical Fixes:**\n\n1. UNTIL Time Component (RFC 5545 Â§3.3.10)\n   - UNTIL values now include time component matching DTSTART format\n   - Changed from UNTIL=21001231 to UNTIL=21001231T235959Z\n   - Fixed in calendar-extractor.ts:455 and export-to-ical.ts:80-82\n   - Impact: 72 recurring events now RFC 5545 compliant\n\n2. Daily Interval Conversion (MS-OXOCAL Â§2.2.1.44.1)\n   - Convert Outlook''s minute-based intervals to days (1440 min = 1 day)\n   - Changed from INTERVAL=1440 to INTERVAL=1 (day)\n   - Fixed in calendar-extractor.ts:380-384 and export-to-ical.ts:84-93\n   - Impact: All daily recurring events now use correct day-based intervals\n\n**Technical Details:**\n\nRFC 5545 requires:\n- UNTIL must match DTSTART format (with time if DTSTART has time)\n- Daily INTERVAL must be in days, not minutes\n\nMicrosoft Outlook PST files:\n- Store daily recurrence periods in minutes (per MS-OXOCAL spec)\n- 1440 minutes = 1 day, 2880 minutes = 2 days, etc.\n\n**Code Locations:**\n- src/parser/calendar-extractor.ts:376-394 (daily interval conversion)\n- src/parser/calendar-extractor.ts:451-455 (UNTIL with time component)\n- export-to-ical.ts:77-93 (CSV cleanup for both issues)\n\n**Testing:**\n- Verified 72 UNTIL values have T235959Z suffix\n- Verified 0 UNTIL values without time component\n- Verified all daily intervals in valid range\n- Genealogy recurring entries confirmed: FREQ=MONTHLY;BYDAY=3TH;UNTIL=21001231T235959Z\n\n**Documentation:**\n- Updated README.md v1.2.4 changelog with fix details\n- Added comprehensive RFC 5545 section to CLAUDE.md\n- Created RFC5545-COMPLIANCE-REPORT.md with full compliance audit\n\n**Result:**\nAll recurring events including Genealogy entries now import successfully\ninto Google Calendar, Apple Calendar, and all RFC 5545 compliant applications.\n\nReferences:\n- RFC 5545 Â§3.3.10: https://icalendar.org/iCalendar-RFC-5545/3-3-10-recurrence-rule.html\n- MS-OXOCAL: https://learn.microsoft.com/en-us/openspecs/exchange_server_protocols/ms-oxocal/\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  }
}
